--- a/dnssd/CMakeLists.txt
+++ b/dnssd/CMakeLists.txt
@@ -59,8 +59,9 @@
 if (HAVE_DNSSD)
   target_link_libraries(kdnssd ${KDE4_KDEUI_LIBS} ${DNSSD_LIBRARIES} )
 else (HAVE_DNSSD)
-  target_link_libraries(kdnssd ${KDE4_KDEUI_LIBS})
+  target_link_libraries(kdnssd ${KDE4_KDEUI_LIBS} ${QT_QTDBUS_LIBRARY} )
 endif (HAVE_DNSSD)
+set_target_properties(kdnssd PROPERTIES LINK_INTERFACE_LIBRARIES "${QT_QTCORE_LIBRARY}")
 
 set_target_properties(kdnssd PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION} )
 install(TARGETS kdnssd ${INSTALL_TARGETS_DEFAULT_ARGS})
--- a/interfaces/kimproxy/library/CMakeLists.txt
+++ b/interfaces/kimproxy/library/CMakeLists.txt
@@ -16,7 +16,7 @@
 
 kde4_add_library(kimproxy SHARED ${kimproxy_LIB_SRCS})
 
-target_link_libraries(kimproxy  ${KDE4_KIO_LIBS} )
+target_link_libraries(kimproxy  ${KDE4_KIO_LIBS} ${QT_QTDBUS_LIBRARY} )
 
 set_target_properties(kimproxy PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION} )
 
--- a/interfaces/kmediaplayer/CMakeLists.txt
+++ b/interfaces/kmediaplayer/CMakeLists.txt
@@ -14,7 +14,7 @@
 
 kde4_add_library(kmediaplayer SHARED ${kmediaplayer_LIB_SRCS})
 
-target_link_libraries(kmediaplayer  ${KDE4_KPARTS_LIBS} )
+target_link_libraries(kmediaplayer  ${KDE4_KPARTS_LIBS} ${QT_QTDBUS_LIBRARY} )
 
 set_target_properties(kmediaplayer PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION} )
 install(TARGETS kmediaplayer ${INSTALL_TARGETS_DEFAULT_ARGS})
--- a/interfaces/ktexteditor/CMakeLists.txt
+++ b/interfaces/ktexteditor/CMakeLists.txt
@@ -25,6 +25,7 @@
 kde4_add_library(ktexteditor SHARED ${ktexteditor_LIB_SRCS})
 
 target_link_libraries(ktexteditor  ${KDE4_KDECORE_LIBS} ${QT_QTDBUS_LIBRARY} kparts )
+set_target_properties(ktexteditor PROPERTIES LINK_INTERFACE_LIBRARIES "${QT_QTCORE_LIBRARY};${QT_QTGUI_LIBRARY};kdeui;kparts")
 
 set_target_properties(ktexteditor PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION} )
 install(TARGETS ktexteditor ${INSTALL_TARGETS_DEFAULT_ARGS})
--- a/kate/CMakeLists.txt
+++ b/kate/CMakeLists.txt
@@ -145,7 +145,7 @@
 kde4_add_plugin(katepart ${katepart_PART_SRCS})
 
 # linking
-target_link_libraries(katepart ${KDE4_KDECORE_LIBS} kutils ktexteditor kde3support ${QT_QTSCRIPT_LIBRARY})
+target_link_libraries(katepart ${KDE4_KDECORE_LIBS} kutils ktexteditor kde3support ${QT_QTSCRIPT_LIBRARY} ${QT_QTXML_LIBRARY} ${QT_QTDBUS_LIBRARY} )
 
 if(KDE4_ENABLE_FINAL)
 	macro_add_file_dependencies(${CMAKE_CURRENT_BINARY_DIR}/katepart_final_cpp.cpp )
--- a/kde3support/CMakeLists.txt
+++ b/kde3support/CMakeLists.txt
@@ -78,7 +78,9 @@
 
 kde4_add_library(kde3support SHARED ${kde3support_LIB_SRCS})
 
-target_link_libraries(kde3support  ${KDE4_KPARTS_LIBS} ${KDE4_KPTY_LIBS} ${QT_QTXML_LIBRARY} ${QT_QT3SUPPORT_LIBRARY} ${KDE4_KFILE_LIBS})
+target_link_libraries(kde3support  ${KDE4_KPARTS_LIBS} ${KDE4_KPTY_LIBS} ${QT_QTXML_LIBRARY}
+   ${QT_QT3SUPPORT_LIBRARY} ${KDE4_KFILE_LIBS} ${X11_X11_LIB} )
+set_target_properties(kde3support PROPERTIES LINK_INTERFACE_LIBRARIES "${QT_QTCORE_LIBRARY};kdecore;kdeui;${QT_QTGUI_LIBRARY};kio;${QT_QT3SUPPORT_LIBRARY}")
 
 set_target_properties(kde3support PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION} )
 install(TARGETS kde3support ${INSTALL_TARGETS_DEFAULT_ARGS})
--- a/kdecore/CMakeLists.txt
+++ b/kdecore/CMakeLists.txt
@@ -105,6 +105,7 @@
    if (NOT HAVE_TRUNC)
        target_link_libraries(kdefakes  m )
    endif (NOT HAVE_TRUNC)
+   set_target_properties(kdefakes PROPERTIES LINK_INTERFACE_LIBRARIES "")
    install(TARGETS kdefakes ${INSTALL_TARGETS_DEFAULT_ARGS} )
 
 endif (UNIX)
@@ -242,6 +243,7 @@
 kde4_add_library(kdecore SHARED ${kdecore_LIB_SRCS})
 
 target_link_libraries(kdecore ${QT_QTCORE_LIBRARY} ${QT_QTNETWORK_LIBRARY} ${QT_QTDBUS_LIBRARY} ${QT_QTXML_LIBRARY} ${ZLIB_LIBRARY} ${kdecore_OPTIONAL_LIBS})
+set_target_properties(kdecore PROPERTIES LINK_INTERFACE_LIBRARIES "${QT_QTCORE_LIBRARY}")
 
 set_target_properties(kdecore PROPERTIES 
                               VERSION ${KDE_NON_GENERIC_LIB_VERSION} 
--- a/kded/CMakeLists.txt
+++ b/kded/CMakeLists.txt
@@ -13,7 +13,7 @@
 
 kde4_add_kdeinit_executable(kded4  ${kded_KDEINIT_SRCS})
 
-target_link_libraries(kdeinit_kded4  ${KDE4_KIO_LIBS} )
+target_link_libraries(kdeinit_kded4  ${KDE4_KIO_LIBS} ${X11_X11_LIB} ${QT_QTDBUS_LIBRARY} )
 
 install(TARGETS kdeinit_kded4 ${INSTALL_TARGETS_DEFAULT_ARGS})
 
@@ -47,7 +47,7 @@
 kde4_add_kdeinit_executable( kbuildsycoca4 NOGUI ${kbuildsycoca_KDEINIT_SRCS})
 
 # needs kio for KServiceGroup
-target_link_libraries(kdeinit_kbuildsycoca4  ${KDE4_KIO_LIBS} )
+target_link_libraries(kdeinit_kbuildsycoca4  ${KDE4_KIO_LIBS} ${QT_QTDBUS_LIBRARY} ${QT_QTXML_LIBRARY} )
 
 install(TARGETS kdeinit_kbuildsycoca4 ${INSTALL_TARGETS_DEFAULT_ARGS})
 
--- a/kdesu/CMakeLists.txt
+++ b/kdesu/CMakeLists.txt
@@ -18,6 +18,7 @@
 kde4_add_library(kdesu SHARED ${kdesu_LIB_SRCS})
 
 target_link_libraries(kdesu ${KDE4_KPTY_LIBS} )
+set_target_properties(kdesu PROPERTIES LINK_INTERFACE_LIBRARIES "${QT_QTCORE_LIBRARY}")
 
 if(KDESU_USE_SUDO_DEFAULT)
    set_source_files_properties(su.cpp
--- a/kdeui/CMakeLists.txt
+++ b/kdeui/CMakeLists.txt
@@ -292,7 +292,8 @@
 
 kde4_add_library(kdeui SHARED ${kdeui_LIB_SRCS})
 
-target_link_libraries(kdeui  ${QT_QTSVG_LIBRARY} ${KDE4_KDECORE_LIBS} ${X11_LIBRARIES} ${QT_QTGUI_LIBRARY} ${QT_QTXML_LIBRARY} )
+target_link_libraries(kdeui ${QT_QTSVG_LIBRARY} ${KDE4_KDECORE_LIBS} ${X11_X11_LIB} ${QT_QTGUI_LIBRARY} ${QT_QTXML_LIBRARY} ${QT_QTDBUS_LIBRARY} )
+set_target_properties(kdeui PROPERTIES LINK_INTERFACE_LIBRARIES "${QT_QTCORE_LIBRARY};${QT_QTGUI_LIBRARY};kdecore" )
 
 if(MINGW)
    target_link_libraries(kdeui gdi32)
@@ -314,6 +315,10 @@
    target_link_libraries(kdeui ${X11_Xrender_LIB})
 endif(X11_Xrender_FOUND)
 
+if (X11_ICE_FOUND)
+   target_link_libraries(kdeui ${X11_X_PRE_LIBS} ${X11_ICE_LIB})
+endif(X11_ICE_FOUND)
+
 set_target_properties(kdeui PROPERTIES VERSION ${KDE_NON_GENERIC_LIB_VERSION} SOVERSION ${KDE_NON_GENERIC_LIB_SOVERSION} )
 install(TARGETS kdeui ${INSTALL_TARGETS_DEFAULT_ARGS})
 ########### install files ###############
@@ -547,7 +552,7 @@
 endif ( Q_WS_QWS )
 
 kde4_add_plugin( kded_globalaccel ${kded_globalaccel_SRCS} )
-target_link_libraries(kded_globalaccel ${KDE4_KDECORE_LIBS} ${KDE4_KDEUI_LIBS} )
+target_link_libraries(kded_globalaccel ${KDE4_KDECORE_LIBS} ${KDE4_KDEUI_LIBS} ${X11_X11_LIB} ${QT_QTDBUS_LIBRARY})
 
 install( TARGETS kded_globalaccel DESTINATION ${PLUGIN_INSTALL_DIR} )
 
--- a/kfile/CMakeLists.txt
+++ b/kfile/CMakeLists.txt
@@ -37,7 +37,9 @@
    ${ZLIB_LIBRARY}
    ${STRIGI_LIBRARIES}
    ${KDE4_SOLID_LIBS}
+   ${QT_QTXML_LIBRARY}
 )
+set_target_properties(kfile PROPERTIES LINK_INTERFACE_LIBRARIES "${QT_QTCORE_LIBRARY};${QT_QTGUI_LIBRARY};kio;kdeui")
 
 set_target_properties(kfile PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION} )
 install(TARGETS kfile ${INSTALL_TARGETS_DEFAULT_ARGS})
--- a/khtml/CMakeLists.txt
+++ b/khtml/CMakeLists.txt
@@ -321,7 +321,11 @@
 
 kde4_add_library(khtml SHARED ${khtml_LIB_SRCS})
 
-target_link_libraries(khtml ${KDE4_KPARTS_LIBS} ktexteditor kjs ${KDE4_PHONON_LIBS} ${JPEG_LIBRARIES} ${GIF_LIBRARIES} ${PNG_LIBRARIES} )
+target_link_libraries(khtml ${KDE4_KPARTS_LIBS} ktexteditor kjs ${X11_X11_LIB}
+   ${KDE4_PHONON_LIBS} ${JPEG_LIBRARIES} ${GIF_LIBRARIES} ${PNG_LIBRARIES}
+   ${QT_QTXML_LIBRARY} ${QT_QTNETWORK_LIBRARY}
+   )
+set_target_properties(khtml PROPERTIES LINK_INTERFACE_LIBRARIES "${QT_QTCORE_LIBRARY};${QT_QTGUI_LIBRARY};kparts")
 
 set_target_properties(khtml PROPERTIES VERSION ${KDE_NON_GENERIC_LIB_VERSION} SOVERSION ${KDE_NON_GENERIC_LIB_SOVERSION} )
 
@@ -393,7 +397,7 @@
 
 kde4_add_plugin(khtmlpart WITH_PREFIX ${khtmlpart_PART_SRCS})
 
-target_link_libraries(khtmlpart  ${KDE4_KDECORE_LIBS} khtml )
+target_link_libraries(khtmlpart  ${KDE4_KPARTS_LIBS} khtml )
 
 install(TARGETS khtmlpart  DESTINATION ${PLUGIN_INSTALL_DIR} )
 
--- a/khtml/java/CMakeLists.txt
+++ b/khtml/java/CMakeLists.txt
@@ -23,7 +23,7 @@
 
 kde4_add_plugin(kjavaappletviewer ${kjavaappletviewer_PART_SRCS})
 
-target_link_libraries(kjavaappletviewer  ${KDE4_KPARTS_LIBS} ${QT_QT3SUPPORT_LIBRARY} )
+target_link_libraries(kjavaappletviewer  ${KDE4_KPARTS_LIBS} ${QT_QT3SUPPORT_LIBRARY} ${QT_QTDBUS_LIBRARY} )
 
 install(TARGETS kjavaappletviewer  DESTINATION ${PLUGIN_INSTALL_DIR} )
 
--- a/khtml/kmultipart/CMakeLists.txt
+++ b/khtml/kmultipart/CMakeLists.txt
@@ -9,7 +9,7 @@
 
 kde4_add_plugin(kmultipart WITH_PREFIX ${kmultipart_PART_SRCS})
 
-target_link_libraries(kmultipart  ${KDE4_KPARTS_LIBS} )
+target_link_libraries(kmultipart  ${KDE4_KPARTS_LIBS} ${ZLIB_LIBRARY} )
 
 install(TARGETS kmultipart  DESTINATION ${PLUGIN_INSTALL_DIR} )
 
--- a/kinit/CMakeLists.txt
+++ b/kinit/CMakeLists.txt
@@ -132,7 +132,7 @@
 kde4_add_kdeinit_executable( klauncher NOGUI ${klauncher_KDEINIT_SRCS})
 set_target_properties(kdeinit_klauncher PROPERTIES DEFINE_SYMBOL MAKE_KLAUNCHER)
 
-target_link_libraries(kdeinit_klauncher  ${KDE4_KIO_LIBS} )
+target_link_libraries(kdeinit_klauncher  ${KDE4_KIO_LIBS} ${X11_X11_LIB} ${QT_QTDBUS_LIBRARY} )
 
 install(TARGETS kdeinit_klauncher ${INSTALL_TARGETS_DEFAULT_ARGS})
 
--- a/kio/CMakeLists.txt
+++ b/kio/CMakeLists.txt
@@ -236,7 +236,10 @@
 
 kde4_add_library(kio SHARED ${kio_LIB_SRCS})
 
-target_link_libraries(kio ${KDE4_KDEUI_LIBS} ${ZLIB_LIBRARY} ${STRIGI_STREAMANALYZER_LIBRARY} ${STRIGI_STREAMS_LIBRARY} ${KDE4_SOLID_LIBS})
+target_link_libraries(kio ${KDE4_KDEUI_LIBS} ${QT_QTNETWORK_LIBRARY} ${X11_X11_LIB}
+  ${ZLIB_LIBRARY} ${STRIGI_STREAMANALYZER_LIBRARY} ${KDE4_SOLID_LIBS}
+  ${QT_QTDBUS_LIBRARY} ${QT_QTXML_LIBRARY} ${QT_QTSVG_LIBRARY} )
+set_target_properties(kio PROPERTIES LINK_INTERFACE_LIBRARIES "${QT_QTCORE_LIBRARY};kdecore;kdeui")
 
 
 set(SYS_INOTIFY_H_FOUND 0)
--- a/kio/misc/kpac/CMakeLists.txt
+++ b/kio/misc/kpac/CMakeLists.txt
@@ -15,7 +15,7 @@
 
 kde4_add_plugin(kded_proxyscout ${kded_proxyscout_PART_SRCS})
 
-target_link_libraries(kded_proxyscout  ${KDE4_KDECORE_LIBS} kio kjs )
+target_link_libraries(kded_proxyscout  ${KDE4_KDECORE_LIBS} kio kjs ${QT_QTNETWORK_LIBRARY} ${QT_QTDBUS_LIBRARY} )
 
 # this needs -lresolv e.g on Slackware, but not on FreeBSD
 if (HAVE_RESOLV_LIBRARY)
--- a/kio/misc/kssld/CMakeLists.txt
+++ b/kio/misc/kssld/CMakeLists.txt
@@ -6,7 +6,7 @@
 
 kde4_add_plugin(kded_kssld ${kded_kssld_PART_SRCS})
 
-target_link_libraries(kded_kssld  ${KDE4_KDECORE_LIBS} kio )
+target_link_libraries(kded_kssld  ${KDE4_KDECORE_LIBS} kio ${QT_QTNETWORK_LIBRARY} ${QT_QTDBUS_LIBRARY} )
 
 install(TARGETS kded_kssld  DESTINATION ${PLUGIN_INSTALL_DIR} )
 
--- a/kio/misc/kwalletd/CMakeLists.txt
+++ b/kio/misc/kwalletd/CMakeLists.txt
@@ -22,7 +22,7 @@
 kde4_add_plugin(kded_kwalletd ${kded_kwalletd_PART_SRCS})
 
 # uses kio for KDirWatch
-target_link_libraries(kded_kwalletd  ${KDE4_KIO_LIBS} kwalletbackend )
+target_link_libraries(kded_kwalletd  ${KDE4_KIO_LIBS} kwalletbackend ${QT_QTDBUS_LIBRARY} )
 
 install(TARGETS kded_kwalletd  DESTINATION ${PLUGIN_INSTALL_DIR} )
 
--- a/kioslave/ftp/CMakeLists.txt
+++ b/kioslave/ftp/CMakeLists.txt
@@ -13,7 +13,7 @@
 
 kde4_add_plugin(kio_ftp ${kio_ftp_PART_SRCS})
 
-target_link_libraries(kio_ftp  ${KDE4_KDECORE_LIBS} kio )
+target_link_libraries(kio_ftp  ${KDE4_KDECORE_LIBS} kio ${QT_QTNETWORK_LIBRARY} )
 
 install(TARGETS kio_ftp  DESTINATION ${PLUGIN_INSTALL_DIR} )
 
--- a/kioslave/http/CMakeLists.txt
+++ b/kioslave/http/CMakeLists.txt
@@ -37,7 +37,7 @@
 
 kde4_add_kdeinit_executable( kio_http_cache_cleaner NOGUI ${kio_http_cache_cleaner_KDEINIT_SRCS})
 
-target_link_libraries(kdeinit_kio_http_cache_cleaner  ${KDE4_KIO_LIBS} )
+target_link_libraries(kdeinit_kio_http_cache_cleaner  ${KDE4_KIO_LIBS} ${QT_QTDBUS_LIBRARY} ${ZLIB_LIBRARY} )
 
 install(TARGETS kdeinit_kio_http_cache_cleaner ${INSTALL_TARGETS_DEFAULT_ARGS})
 
@@ -57,7 +57,7 @@
 
 kde4_add_plugin(kio_http ${kio_http_PART_SRCS})
 
-target_link_libraries(kio_http ${KDE4_KIO_LIBS} kntlm )
+target_link_libraries(kio_http ${KDE4_KIO_LIBS} kntlm ${ZLIB_LIBRARY} ${QT_QTNETWORK_LIBRARY} ${QT_QTDBUS_LIBRARY} ${QT_QTXML_LIBRARY})
 if(GSSAPI_FOUND)
   target_link_libraries(kio_http ${GSSAPI_LIBS} )
 endif(GSSAPI_FOUND)
--- a/kioslave/http/kcookiejar/CMakeLists.txt
+++ b/kioslave/http/kcookiejar/CMakeLists.txt
@@ -26,7 +26,7 @@
     set_target_properties(kcookiejar4 PROPERTIES COMPILE_FLAGS "-include \"${CMAKE_CURRENT_SOURCE_DIR}/qdeclareqlistint_hack.h\"" )
 endif(CMAKE_COMPILER_IS_GNUCXX)
 
-target_link_libraries( kcookiejar4 ${KDE4_KDECORE_LIBS} )
+target_link_libraries( kcookiejar4 ${KDE4_KDECORE_LIBS} ${QT_QTDBUS_LIBRARY} )
 
 install(TARGETS kcookiejar4 DESTINATION ${BIN_INSTALL_DIR} )
 
@@ -46,7 +46,7 @@
 
 kde4_add_plugin(kded_kcookiejar ${kded_kcookiejar_PART_SRCS})
 
-target_link_libraries(kded_kcookiejar  ${KDE4_KIO_LIBS} ${QT_QT3SUPPORT_LIBRARY} )
+target_link_libraries(kded_kcookiejar  ${KDE4_KIO_LIBS} ${QT_QT3SUPPORT_LIBRARY} ${X11_X11_LIB} ${QT_QTDBUS_LIBRARY} )
 
 install(TARGETS kded_kcookiejar  DESTINATION ${PLUGIN_INSTALL_DIR} )
 
--- a/kjs/CMakeLists.txt
+++ b/kjs/CMakeLists.txt
@@ -195,6 +195,7 @@
 
 if(UNIX)
    target_link_libraries(${KJSLIBNAME} m)
+   set_target_properties(${KJSLIBNAME} PROPERTIES LINK_INTERFACE_LIBRARIES "")
 endif(UNIX)
 
 if(PCRE_FOUND)
--- a/knewstuff/knewstuff2/CMakeLists.txt
+++ b/knewstuff/knewstuff2/CMakeLists.txt
@@ -53,7 +53,8 @@
 
 kde4_add_library(knewstuff2 SHARED ${knewstuff2_core_SRCS} ${knewstuff2_dxs_SRCS} ${knewstuff2_ui_SRCS} ${knewstuff2_SRCS})
 
-target_link_libraries(knewstuff2 ${KDE4_KIO_LIBS} ${QT_QTNETWORK_LIBRARY})
+target_link_libraries(knewstuff2 ${KDE4_KIO_LIBS} ${QT_QTNETWORK_LIBRARY} ${QT_QTXML_LIBRARY} )
+set_target_properties(knewstuff2 PROPERTIES LINK_INTERFACE_LIBRARIES "${QT_QTCORE_LIBRARY}")
 set_target_properties(knewstuff2 PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION})
 install(TARGETS knewstuff2 ${INSTALL_TARGETS_DEFAULT_ARGS})
 
--- a/knotify/config/CMakeLists.txt
+++ b/knotify/config/CMakeLists.txt
@@ -19,6 +19,7 @@
 
 # Needs KIO for KUrlRequester
 target_link_libraries(knotifyconfig  ${KDE4_KIO_LIBS} ${KDE4_PHONON_LIBS}  )
+set_target_properties(knotifyconfig PROPERTIES LINK_INTERFACE_LIBRARIES "${QT_QTCORE_LIBRARY};${QT_QTGUI_LIBRARY}")
 
 set_target_properties(knotifyconfig PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION} )
 install(TARGETS knotifyconfig ${INSTALL_TARGETS_DEFAULT_ARGS})
--- a/kparts/CMakeLists.txt
+++ b/kparts/CMakeLists.txt
@@ -24,7 +24,8 @@
 
 kde4_add_library(kparts SHARED ${kparts_LIB_SRCS})
 
-target_link_libraries(kparts  ${KDE4_KDECORE_LIBS} kdeui kio)
+target_link_libraries(kparts  ${KDE4_KDECORE_LIBS} kdeui kio ${QT_QTXML_LIBRARY})
+set_target_properties(kparts PROPERTIES LINK_INTERFACE_LIBRARIES "${QT_QTCORE_LIBRARY};kdecore;kio;kdeui")
 
 set_target_properties(kparts PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION} )
 install(TARGETS kparts ${INSTALL_TARGETS_DEFAULT_ARGS})
--- a/kpty/CMakeLists.txt
+++ b/kpty/CMakeLists.txt
@@ -12,6 +12,7 @@
 kde4_add_library(kpty SHARED ${kpty_LIB_SRCS})
 
 target_link_libraries(kpty ${KDE4_KDECORE_LIBS} ${UTIL_LIBRARY} ${UTEMPTER_LIBRARY})
+set_target_properties(kpty PROPERTIES LINK_INTERFACE_LIBRARIES "${QT_QTCORE_LIBRARY};kdecore")
 
 set_target_properties(kpty PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION} )
 install(TARGETS kpty ${INSTALL_TARGETS_DEFAULT_ARGS})
--- a/kross/core/CMakeLists.txt
+++ b/kross/core/CMakeLists.txt
@@ -11,7 +11,8 @@
 )
 
 kde4_add_library(krosscore SHARED ${krosscore_LIB_SRCS})
-target_link_libraries(krosscore ${KDE4_KDECORE_LIBS} ${KDE4_KDEUI_LIBS} ${QT_QTSCRIPT_LIBRARY})
+target_link_libraries(krosscore ${KDE4_KDECORE_LIBS} ${KDE4_KDEUI_LIBS} ${QT_QTSCRIPT_LIBRARY} ${QT_QTXML_LIBRARY})
+set_target_properties(krosscore PROPERTIES LINK_INTERFACE_LIBRARIES "${QT_QTSCRIPT_LIBRARY};${QT_QTCORE_LIBRARY};${QT_QTGUI_LIBRARY}")
 set_target_properties(krosscore PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION})
 install(TARGETS krosscore ${INSTALL_TARGETS_DEFAULT_ARGS})
 
--- a/kross/modules/CMakeLists.txt
+++ b/kross/modules/CMakeLists.txt
@@ -12,5 +12,5 @@
 set(krossmoduleforms_SRCS form.cpp)
 kde4_add_plugin(krossmoduleforms ${krossmoduleforms_SRCS})
 
-target_link_libraries(krossmoduleforms ${QT_QTUITOOLS_LIBRARY} ${QT_QTDESIGNER_LIBRARY} ${KDE4_KPARTS_LIBS} ${KDE4_KFILE_LIBS} krosscore krossui)
+target_link_libraries(krossmoduleforms ${QT_QTUITOOLS_LIBRARY} ${QT_QTDESIGNER_LIBRARY} ${QT_QTXML_LIBRARY} ${KDE4_KPARTS_LIBS} ${KDE4_KFILE_LIBS} krosscore)
 install(TARGETS krossmoduleforms DESTINATION ${PLUGIN_INSTALL_DIR})
--- a/kross/qts/CMakeLists.txt
+++ b/kross/qts/CMakeLists.txt
@@ -3,7 +3,7 @@
 ########### next target ###############
 set(krossqtsplugin_LIB_SRCS plugin.cpp)
 kde4_add_library(krossqtsplugin SHARED ${krossqtsplugin_LIB_SRCS})
-target_link_libraries(krossqtsplugin ${QT_QTUITOOLS_LIBRARY} ${KDE4_KDECORE_LIBS} ${KDE4_KDEUI_LIBS} krosscore ${QT_QTSCRIPT_LIBRARY})
+target_link_libraries(krossqtsplugin ${QT_QTUITOOLS_LIBRARY} ${QT_QTXML_LIBRARY} ${KDE4_KDECORE_LIBS} ${KDE4_KDEUI_LIBS} krosscore ${QT_QTSCRIPT_LIBRARY})
 set_target_properties(krossqtsplugin PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION})
 install(TARGETS krossqtsplugin DESTINATION ${PLUGIN_INSTALL_DIR}/plugins/script)
 
--- a/kross/ui/CMakeLists.txt
+++ b/kross/ui/CMakeLists.txt
@@ -14,7 +14,8 @@
    )
 
 kde4_add_library(krossui SHARED ${krossui_LIB_SRCS})
-target_link_libraries(krossui krosscore ${KDE4_KDEUI_LIBS} ${KDE4_KPARTS_LIBS} ${KDE4_KIO_LIBS})
+target_link_libraries(krossui krosscore ${KDE4_KDEUI_LIBS} ${KDE4_KPARTS_LIBS} ${KDE4_KIO_LIBS} ${QT_QTXML_LIBRARY})
+set_target_properties(krossui PROPERTIES LINK_INTERFACE_LIBRARIES "${QT_QTCORE_LIBRARY};${QT_QTGUI_LIBRARY};kparts")
 set_target_properties(krossui PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION})
 install(TARGETS krossui ${INSTALL_TARGETS_DEFAULT_ARGS})
 
--- a/kutils/CMakeLists.txt
+++ b/kutils/CMakeLists.txt
@@ -49,7 +49,8 @@
 
 kde4_add_library(kutils SHARED ${kutils_LIB_SRCS})
 
-target_link_libraries(kutils  ${KDE4_KDEUI_LIBS} ${KDE4_KPARTS_LIBS} )
+target_link_libraries(kutils  ${KDE4_KDEUI_LIBS} ${KDE4_KPARTS_LIBS} ${QT_QTDBUS_LIBRARY} )
+set_target_properties(kutils PROPERTIES LINK_INTERFACE_LIBRARIES "${QT_QTCORE_LIBRARY};${QT_QTGUI_LIBRARY};kdeui")
 
 set_target_properties(kutils PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION} )
 install(TARGETS kutils ${INSTALL_TARGETS_DEFAULT_ARGS})
--- a/phonon/libkaudiodevicelist/CMakeLists.txt
+++ b/phonon/libkaudiodevicelist/CMakeLists.txt
@@ -28,7 +28,8 @@
 endif(ALSA_FOUND)
 
 kde4_add_library(kaudiodevicelist SHARED ${kaudiodevicelist_LIB_SRCS})
-target_link_libraries(kaudiodevicelist ${KDE4_SOLID_LIBS} ${KDE4_PHONON_LIBS} ${ASOUND_LIBRARY})
+target_link_libraries(kaudiodevicelist ${KDE4_KDECORE_LIBS} ${KDE4_SOLID_LIBS} ${KDE4_PHONON_LIBS} ${ASOUND_LIBRARY})
+set_target_properties(kaudiodevicelist PROPERTIES LINK_INTERFACE_LIBRARIES "${QT_QTCORE_LIBRARY};solid")
 
 set_target_properties(kaudiodevicelist PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION})
 
--- a/solid/solid/CMakeLists.txt
+++ b/solid/solid/CMakeLists.txt
@@ -181,6 +181,7 @@
 kde4_add_library(solid SHARED ${solid_LIB_SRCS})
 
 target_link_libraries(solid ${QT_QTCORE_LIBRARY} ${QT_QTDBUS_LIBRARY} ${QT_QTXML_LIBRARY} ${QT_QTGUI_LIBRARY} ${solid_OPTIONAL_LIBS})
+set_target_properties(solid PROPERTIES LINK_INTERFACE_LIBRARIES "${QT_QTCORE_LIBRARY}")
 
 set_target_properties(solid PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION} )
 install(TARGETS solid ${INSTALL_TARGETS_DEFAULT_ARGS})
--- a/sonnet/plugins/hspell/CMakeLists.txt
+++ b/sonnet/plugins/hspell/CMakeLists.txt
@@ -9,7 +9,7 @@
 
 kde4_add_plugin(kspell_hspell ${kspell_hspell_PART_SRCS})
 
-target_link_libraries(kspell_hspell  ${KDE4_KDECORE_LIBS} ${HSPELL_LIBRARIES} )
+target_link_libraries(kspell_hspell  ${KDE4_KDECORE_LIBS} ${HSPELL_LIBRARIES} ${ZLIB_LIBRARY} )
 
 install(TARGETS kspell_hspell  DESTINATION ${PLUGIN_INSTALL_DIR} )
 
--- a/kjsembed/kjsembed/CMakeLists.txt
+++ b/kjsembed/kjsembed/CMakeLists.txt
@@ -69,6 +69,7 @@
 kde4_add_library(${KJSEMBEDLIBNAME} SHARED ${kjsembed_LIB_SRCS})
 
 target_link_libraries(${KJSEMBEDLIBNAME} ${KDE4_KDECORE_LIBS} ${QT_QTUITOOLS_LIBRARY} ${QT_QTGUI_LIBRARY} ${QT_QTSVG_LIBRARY} ${QT_QTXML_LIBRARY} ${QT_QTCORE_LIBRARY} ${KJSLIBNAME} )
+set_target_properties(${KJSEMBEDLIBNAME} PROPERTIES LINK_INTERFACE_LIBRARIES "${KJSLIBNAME};${QT_QTCORE_LIBRARY}") 
 
 set_target_properties(${KJSEMBEDLIBNAME} PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION} )
 install(TARGETS ${KJSEMBEDLIBNAME} ${INSTALL_TARGETS_DEFAULT_ARGS})
--- a/kioslave/file/CMakeLists.txt
+++ b/kioslave/file/CMakeLists.txt
@@ -20,6 +20,10 @@
     target_link_libraries(kio_file -lvolmgt)
 endif (HAVE_VOLMGT AND CMAKE_SYSTEM_NAME MATCHES SunOS)
 
+if (ACL_FOUND)
+    target_link_libraries(kio_file ${ACL_LIBS})
+endif (ACL_FOUND)
+
 install(TARGETS kio_file  DESTINATION ${PLUGIN_INSTALL_DIR} )
 
 
