--- a/cmake/modules/FindKDE4Internal.cmake
+++ b/cmake/modules/FindKDE4Internal.cmake
@@ -214,8 +214,8 @@
 # Redistribution and use is allowed according to the terms of the BSD license.
 # For details see the accompanying COPYING-CMAKE-SCRIPTS file.
 
-
-# this is required now by cmake 2.6 and so must not be skipped by if(KDE4_FOUND) below
+# Use of CMake 2.4.5 or later from CMake 2.4 series is supported
+# but CMake 2.6 is recommended
 cmake_minimum_required(VERSION 2.4.5 FATAL_ERROR)
 
 # cmake 2.5, i.e. the cvs version between 2.4 and 2.6, is not supported
@@ -254,7 +254,6 @@
 include (CheckCXXCompilerFlag)
 include (CheckCXXSourceCompiles)
 
-
 # get the directory of the current file, used later on in the file
 get_filename_component( kde_cmake_module_dir  ${CMAKE_CURRENT_LIST_FILE} PATH)
 
@@ -270,23 +269,98 @@
 
 #######################  #now try to find some kde stuff  ################################
 
+# A macro for vertifying existance of the core libraries and
+# setting KDE4_*_LIBRARY and KDE4_*_LIBS to the proper values.
+MACRO(IMPORT_KDE4_CORE_LIBRARIES)
+   foreach(lib ${ARGV})
+      string(TOUPPER ${lib} _ulib)
+
+      if (_kdeBootStrapping)
+         set(KDE4_${_ulib}_LIBRARY ${lib})
+      else(_kdeBootStrapping)
+         find_library(KDE4_${_ulib}_LIBRARY NAMES ${lib} PATHS ${KDE4_LIB_INSTALL_DIR} NO_DEFAULT_PATH)
+      endif(_kdeBootStrapping)
+
+      if (KDE4_${_ulib}_LIBRARY)
+         if (KDELIBS_EXPORT OR _kdeBootStrapping)
+            # Set KDE4_*_LIBS to the (IMPORTED) target name
+            set(KDE4_${_ulib}_LIBS ${lib})
+         else (KDELIBS_EXPORT OR _kdeBootStrapping)
+            # Set KDE4_*_LIBS to the lib name and its dependences
+            set(KDE4_${_ulib}_LIBS ${${lib}_LIB_DEPENDS} ${KDE4_${_ulib}_LIBRARY} )
+            set(KDE4_${_ulib}_LIBRARIES ${${lib}_LIB_DEPENDS} ${KDE4_${_ulib}_LIBRARY} )
+         endif (KDELIBS_EXPORT OR _kdeBootStrapping)
+      endif (KDE4_${_ulib}_LIBRARY)
+
+   endforeach(lib ${ARGV})
+ENDMACRO(IMPORT_KDE4_CORE_LIBRARIES)
+
 if (_kdeBootStrapping)
-   set(KDE4_INCLUDE_DIR ${kdelibs_SOURCE_DIR})
-   set(KDE4_KDECORE_LIBS ${QT_QTCORE_LIBRARY} kdecore)
-   set(KDE4_KDEUI_LIBS ${KDE4_KDECORE_LIBS} kdeui)
-   set(KDE4_KIO_LIBS ${KDE4_KDEUI_LIBS} kio)
-   set(KDE4_KPARTS_LIBS ${KDE4_KIO_LIBS} kparts)
-   if (UNIX)
-      set(KDE4_KPTY_LIBS ${KDE4_KDECORE_LIBS} kpty)
-   endif (UNIX)
-   set(KDE4_KUTILS_LIBS ${KDE4_KIO_LIBS} kutils)
-   set(KDE4_KDE3SUPPORT_LIBS ${KDE4_KIO_LIBS} kde3support)
-   set(KDE4_SOLID_LIBS ${KDE4_KDECORE_LIBS} solid)
-   set(KDE4_PHONON_LIBS ${QT_QTDBUS_LIBRARY} ${QT_QTCORE_LIBRARY} ${QT_QTGUI_LIBRARY} phonon)
-   set(KDE4_KAUDIODEVICELIST_LIBS ${KDE4_SOLID_LIBS} kaudiodevicelist)
-   set(KDE4_KFILE_LIBS ${KDE4_KDE3SUPPORT_LIBS} kfile)
-   set(KDE4_KHTML_LIBS ${KDE4_KPARTS_LIBS} khtml)
 
+   # If we are using CMake 2.6 or later, use cmake IMPORTED mechanism to export
+   # libraries and dependencies (as IMPORTED targets)
+   if (NOT "${CMAKE_MAJOR_VERSION}.${CMAKE_MINOR_VERSION}" STRLESS "2.6")
+      set(KDELIBS_EXPORT EXPORT kdelibs)
+      message(STATUS "CMake 2.6 or later found. KDELibs library information will be exported via IMPORTED targets")
+   else (NOT "${CMAKE_MAJOR_VERSION}.${CMAKE_MINOR_VERSION}" STRLESS "2.6")
+      message(STATUS "CMake 2.4 found. KDELibs library information will be exported in *_LIB_DEPENDS variables")
+   endif (NOT "${CMAKE_MAJOR_VERSION}.${CMAKE_MINOR_VERSION}" STRLESS "2.6")
+
+else (_kdeBootStrapping)
+
+   # Check whether we are using IMPORTED targets for KDE libraries. It's not possible to
+   # use IMPORTED targets with CMake 2.4
+   if (EXISTS ${kde_cmake_module_dir}/KDELibsImports.cmake)
+      if ("${CMAKE_MAJOR_VERSION}.${CMAKE_MINOR_VERSION}" STRLESS "2.6")
+         message(FATAL_ERROR "KDELibs was compiled with CMake 2.6 or later but you are using CMake ${CMAKE_MAJOR_VERSION}.${CMAKE_MINOR_VERSION}. Either recompile KDELibs or upgrade CMake to 2.6 or later")
+      else ("${CMAKE_MAJOR_VERSION}.${CMAKE_MINOR_VERSION}" STRLESS "2.6")
+         set(KDELIBS_EXPORT EXPORT kdelibs)
+      endif ("${CMAKE_MAJOR_VERSION}.${CMAKE_MINOR_VERSION}" STRLESS "2.6")
+   endif (EXISTS ${kde_cmake_module_dir}/KDELibsImports.cmake)
+
+   # this file contains all KDELibs libraries and dependences (either IMPORTED or the old way)
+   include(${kde_cmake_module_dir}/KDELibsDependencies.cmake)
+
+endif (_kdeBootStrapping)
+
+import_kde4_core_libraries(
+   kdecore
+   kdeui
+   kio
+   kparts
+   kutils
+   kde3support
+   kfile
+   khtml
+   kjs
+   kjsapi
+   knewstuff2
+   kdnssd
+   phonon
+   kaudiodevicelist
+   solid
+   threadweaver
+   knotifyconfig
+   krosscore
+   krossui
+   ktexteditor
+#   knepomuk
+#   kmetadata
+)
+
+# Export "non-standard" KDE4_THREADWEAVER_LIBRARIES as an alias for KDE4_THREADWEAVER_LIBS
+set(KDE4_THREADWEAVER_LIBRARIES ${KDE4_THREADWEAVER_LIBS})
+
+if (UNIX)
+   import_kde4_core_libraries(
+      kdefakes
+      kpty
+      kdesu
+   )
+endif (UNIX)
+
+if (_kdeBootStrapping)
+   set(KDE4_INCLUDE_DIR ${kdelibs_SOURCE_DIR})
    set(EXECUTABLE_OUTPUT_PATH ${kdelibs_BINARY_DIR}/bin )
 
    if (WIN32)
@@ -355,89 +429,7 @@
       get_filename_component(QT_INSTALL_DIR ${_DIR} PATH )
    endif (WIN32)
 
-   # this file contains all dependencies of all libraries of kdelibs, Alex
-   include(${kde_cmake_module_dir}/KDELibsDependencies.cmake)
-
-   if (UNIX)
-      find_library(KDE4_KDEFAKES_LIBRARY NAMES kdefakes PATHS ${KDE4_LIB_INSTALL_DIR} NO_DEFAULT_PATH )
-      set(KDE4_KDEFAKES_LIBS ${kdefakes_LIB_DEPENDS} ${KDE4_KDEFAKES_LIBRARY} )
-   endif (UNIX)
-
-   find_library(KDE4_KDECORE_LIBRARY NAMES kdecore PATHS ${KDE4_LIB_INSTALL_DIR} NO_DEFAULT_PATH )
-   set(KDE4_KDECORE_LIBS ${kdecore_LIB_DEPENDS} ${KDE4_KDECORE_LIBRARY} )
-
-   find_library(KDE4_KDEUI_LIBRARY NAMES kdeui PATHS ${KDE4_LIB_INSTALL_DIR} NO_DEFAULT_PATH )
-   set(KDE4_KDEUI_LIBS ${kdeui_LIB_DEPENDS} ${KDE4_KDEUI_LIBRARY} )
-
-   find_library(KDE4_KIO_LIBRARY NAMES kio PATHS ${KDE4_LIB_INSTALL_DIR} NO_DEFAULT_PATH )
-   set(KDE4_KIO_LIBS ${kio_LIB_DEPENDS} ${KDE4_KIO_LIBRARY} )
-
-   find_library(KDE4_KPARTS_LIBRARY NAMES kparts PATHS ${KDE4_LIB_INSTALL_DIR} NO_DEFAULT_PATH )
-   set(KDE4_KPARTS_LIBS ${kparts_LIB_DEPENDS} ${KDE4_KPARTS_LIBRARY} )
-
-   find_library(KDE4_KUTILS_LIBRARY NAMES kutils PATHS ${KDE4_LIB_INSTALL_DIR} NO_DEFAULT_PATH )
-   set(KDE4_KUTILS_LIBS ${kutils_LIB_DEPENDS} ${KDE4_KUTILS_LIBRARY} )
-
-   find_library(KDE4_KDE3SUPPORT_LIBRARY NAMES kde3support PATHS ${KDE4_LIB_INSTALL_DIR} NO_DEFAULT_PATH )
-   set(KDE4_KDE3SUPPORT_LIBS ${kde3support_LIB_DEPENDS} ${KDE4_KDE3SUPPORT_LIBRARY} )
-
-   find_library(KDE4_KFILE_LIBRARY NAMES kfile PATHS ${KDE4_LIB_INSTALL_DIR} NO_DEFAULT_PATH )
-   set(KDE4_KFILE_LIBS ${kfile_LIB_DEPENDS} ${KDE4_KFILE_LIBRARY} )
-
-   find_library(KDE4_KHTML_LIBRARY NAMES khtml PATHS ${KDE4_LIB_INSTALL_DIR} NO_DEFAULT_PATH )
-   set(KDE4_KHTML_LIBS ${khtml_LIB_DEPENDS} ${KDE4_KHTML_LIBRARY} )
-
-   find_library(KDE4_KJS_LIBRARY NAMES kjs PATHS ${KDE4_LIB_INSTALL_DIR} NO_DEFAULT_PATH )
-   set(KDE4_KJS_LIBS ${kjs_LIB_DEPENDS} ${KDE4_KJS_LIBRARY} )
-   find_library(KDE4_KJSAPI_LIBRARY NAMES kjsapi PATHS ${KDE4_LIB_INSTALL_DIR} NO_DEFAULT_PATH )
-   set(KDE4_KJSAPI_LIBS ${kjsapi_LIB_DEPENDS} ${KDE4_KJSAPI_LIBRARY} )
-
-   find_library(KDE4_KNEWSTUFF2_LIBRARY NAMES knewstuff2 PATHS ${KDE4_LIB_INSTALL_DIR} NO_DEFAULT_PATH )
-   set(KDE4_KNEWSTUFF2_LIBS ${knewstuff2_LIB_DEPENDS} ${KDE4_KNEWSTUFF2_LIBRARY} )
-
-   if (UNIX)
-      find_library(KDE4_KPTY_LIBRARY NAMES kpty PATHS ${KDE4_LIB_INSTALL_DIR} NO_DEFAULT_PATH )
-      set(KDE4_KPTY_LIBS ${kpty_LIB_DEPENDS} ${KDE4_KPTY_LIBRARY} )
-
-      find_library(KDE4_KDESU_LIBRARY NAMES kdesu PATHS ${KDE4_LIB_INSTALL_DIR} NO_DEFAULT_PATH )
-      set(KDE4_KDESU_LIBS ${kdesu_LIB_DEPENDS} ${KDE4_KDESU_LIBRARY} )
-   endif (UNIX)
-
-   find_library(KDE4_KDNSSD_LIBRARY NAMES kdnssd PATHS ${KDE4_LIB_INSTALL_DIR} NO_DEFAULT_PATH )
-   set(KDE4_KDNSSD_LIBS ${kdnssd_LIB_DEPENDS} ${KDE4_KDNSSD_LIBRARY} )
-
-   find_library(KDE4_PHONON_LIBRARY NAMES phonon PATHS ${KDE4_LIB_INSTALL_DIR} NO_DEFAULT_PATH )
-   set(KDE4_PHONON_LIBS ${phonon_LIB_DEPENDS} ${KDE4_PHONON_LIBRARY} )
-
-   find_library(KDE4_KAUDIODEVICELIST_LIBRARY NAMES kaudiodevicelist PATHS ${KDE4_LIB_INSTALL_DIR} NO_DEFAULT_PATH )
-   set(KDE4_KAUDIODEVICELIST_LIBS ${kaudiodevicelist_LIB_DEPENDS} ${KDE4_KAUDIODEVICELIST_LIBRARY} )
-
-   find_library(KDE4_SOLID_LIBRARY NAMES solid PATHS ${KDE4_LIB_INSTALL_DIR} NO_DEFAULT_PATH )
-   set(KDE4_SOLID_LIBS ${solid_LIB_DEPENDS} ${KDE4_SOLID_LIBRARY} )
-
-   find_library(KDE4_THREADWEAVER_LIBRARY NAMES threadweaver PATHS ${KDE4_LIB_INSTALL_DIR} NO_DEFAULT_PATH )
-   set(KDE4_THREADWEAVER_LIBRARIES ${threadweaver_LIB_DEPENDS} ${KDE4_THREADWEAVER_LIBRARY} )
-
-   find_library(KDE4_KNOTIFYCONFIG_LIBRARY NAMES knotifyconfig PATHS ${KDE4_LIB_INSTALL_DIR} NO_DEFAULT_PATH )
-   set(KDE4_KNOTIFYCONFIG_LIBS ${knotifyconfig_LIB_DEPENDS} ${KDE4_KNOTIFYCONFIG_LIBRARY} )
-
-   find_library(KDE4_KROSSCORE_LIBRARY NAMES krosscore PATHS ${KDE4_LIB_INSTALL_DIR} NO_DEFAULT_PATH )
-   set(KDE4_KROSSCORE_LIBS ${krosscore_LIB_DEPENDS} ${KDE4_KROSSCORE_LIBRARY} )
-
-   find_library(KDE4_KROSSUI_LIBRARY NAMES krossui PATHS ${KDE4_LIB_INSTALL_DIR} NO_DEFAULT_PATH )
-   set(KDE4_KROSSUI_LIBS ${krossui_LIB_DEPENDS} ${KDE4_KROSSCORE_LIBS} ${KDE4_KROSSUI_LIBRARY} )
-
-   find_library(KDE4_KTEXTEDITOR_LIBRARY NAMES ktexteditor PATHS ${KDE4_LIB_INSTALL_DIR} NO_DEFAULT_PATH )
-   set(KDE4_KTEXTEDITOR_LIBS ${ktexteditor_LIB_DEPENDS} ${KDE4_KTEXTEDITOR_LIBRARY} )
-
-   # Can't do that, it's not always compiled.
-   #find_library(KDE4_KNEPOMUK_LIBRARY NAMES knepomuk PATHS ${KDE4_LIB_INSTALL_DIR} NO_DEFAULT_PATH )
-   #set(KDE4_KNEPOMUK_LIBS ${knepomuk_LIB_DEPENDS} ${KDE4_KNEPOMUK_LIBRARY} )
-
-   # Can't do that, it's not always compiled. See FindKMetaData.cmake
-   #find_library(KDE4_KMETADATA_LIBRARY NAMES kmetadata PATHS ${KDE4_LIB_INSTALL_DIR} NO_DEFAULT_PATH )
-   #set(KDE4_KMETADATA_LIBS ${kmetadata_LIB_DEPENDS} ${KDE4_KMETADATA_LIBRARY} )
-
+   # extract KDE4_LIB_DIR from kdecore location
    get_filename_component(KDE4_LIB_DIR ${KDE4_KDECORE_LIBRARY} PATH )
 
    # kpassworddialog.h is new with KDE4
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -318,7 +318,17 @@
 #        file (APPEND ${CMAKE_BINARY_DIR}/KDELibsDependencies.cmake "${__deps}")
 endif(WIN32)
 
-export_library_dependencies(${CMAKE_CURRENT_BINARY_DIR}/KDELibsDependencies.cmake APPEND)
+if (KDELIBS_EXPORT)
+   install(${KDELIBS_EXPORT} DESTINATION ${DATA_INSTALL_DIR}/cmake/modules FILE KDELibsImports.cmake)
+   file(APPEND ${CMAKE_CURRENT_BINARY_DIR}/KDELibsDependencies.cmake
+"# Import KDELibs libraries as IMPORTED targets
+include(KDELibsImports)
+"
+   )
+else (KDELIBS_EXPORT)
+   # Export dependences the old CMake 2.4 way
+   export_library_dependencies(${CMAKE_CURRENT_BINARY_DIR}/KDELibsDependencies.cmake APPEND)
+endif (KDELIBS_EXPORT)
 
 ########### install files ###############
 
--- a/dnssd/CMakeLists.txt
+++ b/dnssd/CMakeLists.txt
@@ -63,7 +63,7 @@
 endif (HAVE_DNSSD)
 
 set_target_properties(kdnssd PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION} )
-install(TARGETS kdnssd ${INSTALL_TARGETS_DEFAULT_ARGS})
+install(TARGETS kdnssd ${KDELIBS_EXPORT} ${INSTALL_TARGETS_DEFAULT_ARGS})
 
 ########### install files ###############
 install( FILES dnssd_export.h domainbrowser.h remoteservice.h servicetypebrowser.h publicservice.h 
--- a/interfaces/ktexteditor/CMakeLists.txt
+++ b/interfaces/ktexteditor/CMakeLists.txt
@@ -27,7 +27,7 @@
 target_link_libraries(ktexteditor  ${KDE4_KDECORE_LIBS} ${QT_QTDBUS_LIBRARY} kparts )
 
 set_target_properties(ktexteditor PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION} )
-install(TARGETS ktexteditor ${INSTALL_TARGETS_DEFAULT_ARGS})
+install(TARGETS ktexteditor ${KDELIBS_EXPORT} ${INSTALL_TARGETS_DEFAULT_ARGS})
 
 ########### install files ###############
 install( FILES
--- a/kde3support/CMakeLists.txt
+++ b/kde3support/CMakeLists.txt
@@ -81,7 +81,7 @@
 target_link_libraries(kde3support  ${KDE4_KPARTS_LIBS} ${KDE4_KPTY_LIBS} ${QT_QTXML_LIBRARY} ${QT_QT3SUPPORT_LIBRARY} ${KDE4_KFILE_LIBS})
 
 set_target_properties(kde3support PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION} )
-install(TARGETS kde3support ${INSTALL_TARGETS_DEFAULT_ARGS})
+install(TARGETS kde3support ${KDELIBS_EXPORT} ${INSTALL_TARGETS_DEFAULT_ARGS})
 
 ########### install files ###############
 
--- a/kdecore/CMakeLists.txt
+++ b/kdecore/CMakeLists.txt
@@ -105,7 +105,7 @@
    if (NOT HAVE_TRUNC)
        target_link_libraries(kdefakes  m )
    endif (NOT HAVE_TRUNC)
-   install(TARGETS kdefakes ${INSTALL_TARGETS_DEFAULT_ARGS} )
+   install(TARGETS kdefakes ${KDELIBS_EXPORT} ${INSTALL_TARGETS_DEFAULT_ARGS} )
 
 endif (UNIX)
 
@@ -244,7 +244,7 @@
 target_link_libraries(kdecore ${QT_QTCORE_LIBRARY} ${QT_QTNETWORK_LIBRARY} ${QT_QTDBUS_LIBRARY} ${QT_QTXML_LIBRARY} ${ZLIB_LIBRARY} ${kdecore_OPTIONAL_LIBS})
 
 set_target_properties(kdecore PROPERTIES VERSION ${KDE_NON_GENERIC_LIB_VERSION} SOVERSION ${KDE_NON_GENERIC_LIB_SOVERSION} )
-install(TARGETS kdecore ${INSTALL_TARGETS_DEFAULT_ARGS})
+install(TARGETS kdecore ${KDELIBS_EXPORT} ${INSTALL_TARGETS_DEFAULT_ARGS})
 
 ########### next target ###############
 
--- a/kdesu/CMakeLists.txt
+++ b/kdesu/CMakeLists.txt
@@ -25,7 +25,7 @@
 endif(KDESU_USE_SUDO_DEFAULT)
 
 set_target_properties(kdesu PROPERTIES VERSION ${KDE_NON_GENERIC_LIB_VERSION} SOVERSION ${KDE_NON_GENERIC_LIB_SOVERSION} )
-install(TARGETS kdesu ${INSTALL_TARGETS_DEFAULT_ARGS} )
+install(TARGETS kdesu ${KDELIBS_EXPORT} ${INSTALL_TARGETS_DEFAULT_ARGS} )
 
 
 ########### next target ###############
--- a/kdeui/CMakeLists.txt
+++ b/kdeui/CMakeLists.txt
@@ -303,7 +303,7 @@
 endif(X11_Xrender_FOUND)
 
 set_target_properties(kdeui PROPERTIES VERSION ${KDE_NON_GENERIC_LIB_VERSION} SOVERSION ${KDE_NON_GENERIC_LIB_SOVERSION} )
-install(TARGETS kdeui ${INSTALL_TARGETS_DEFAULT_ARGS})
+install(TARGETS kdeui ${KDELIBS_EXPORT} ${INSTALL_TARGETS_DEFAULT_ARGS})
 ########### install files ###############
 
 if (Q_WS_MAC)
--- a/kfile/CMakeLists.txt
+++ b/kfile/CMakeLists.txt
@@ -40,7 +40,7 @@
 )
 
 set_target_properties(kfile PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION} )
-install(TARGETS kfile ${INSTALL_TARGETS_DEFAULT_ARGS})
+install(TARGETS kfile ${KDELIBS_EXPORT} ${INSTALL_TARGETS_DEFAULT_ARGS})
 
 install( FILES
   kdiroperator.h
--- a/khtml/CMakeLists.txt
+++ b/khtml/CMakeLists.txt
@@ -334,7 +334,7 @@
 create_lut(ecma/kjs_audio.cpp kjs_audio.lut.h)
 
 
-install(TARGETS khtml ${INSTALL_TARGETS_DEFAULT_ARGS})
+install(TARGETS khtml ${KDELIBS_EXPORT} ${INSTALL_TARGETS_DEFAULT_ARGS})
 
 ########### khtmlpart ###############
 
--- a/kio/CMakeLists.txt
+++ b/kio/CMakeLists.txt
@@ -264,7 +264,7 @@
 set_target_properties(kio PROPERTIES VERSION ${KDE_NON_GENERIC_LIB_VERSION} SOVERSION ${KDE_NON_GENERIC_LIB_SOVERSION} )
 
 ########### install files ###############
-install(TARGETS kio ${INSTALL_TARGETS_DEFAULT_ARGS})
+install(TARGETS kio ${KDELIBS_EXPORT} ${INSTALL_TARGETS_DEFAULT_ARGS})
 
 install( PROGRAMS useragent.pl proxytype.pl  DESTINATION ${KCONF_UPDATE_INSTALL_DIR} )
 
--- a/kjs/CMakeLists.txt
+++ b/kjs/CMakeLists.txt
@@ -174,7 +174,7 @@
 endif(PCRE_FOUND)
 
 set_target_properties(${KJSLIBNAME} PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION} )
-install(TARGETS ${KJSLIBNAME} ${INSTALL_TARGETS_DEFAULT_ARGS})
+install(TARGETS ${KJSLIBNAME} ${KDELIBS_EXPORT} ${INSTALL_TARGETS_DEFAULT_ARGS})
 
 ########### kjs - basic shell ###############
 
--- a/kjs/api/CMakeLists.txt
+++ b/kjs/api/CMakeLists.txt
@@ -13,7 +13,7 @@
 target_link_libraries(kjsapi ${KJSLIBNAME} ${KDE4_KDECORE_LIBS})
 
 set_target_properties(kjsapi PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION} )
-install(TARGETS kjsapi ${INSTALL_TARGETS_DEFAULT_ARGS})
+install(TARGETS kjsapi ${KDELIBS_EXPORT} ${INSTALL_TARGETS_DEFAULT_ARGS})
 
 install(FILES
         kjsapi_export.h
--- a/knewstuff/knewstuff2/CMakeLists.txt
+++ b/knewstuff/knewstuff2/CMakeLists.txt
@@ -55,7 +55,7 @@
 
 target_link_libraries(knewstuff2 ${KDE4_KIO_LIBS} ${QT_QTNETWORK_LIBRARY})
 set_target_properties(knewstuff2 PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION})
-install(TARGETS knewstuff2 ${INSTALL_TARGETS_DEFAULT_ARGS})
+install(TARGETS knewstuff2 ${KDELIBS_EXPORT} ${INSTALL_TARGETS_DEFAULT_ARGS})
 
 install(FILES
   core/author.h
--- a/knotify/config/CMakeLists.txt
+++ b/knotify/config/CMakeLists.txt
@@ -21,7 +21,7 @@
 target_link_libraries(knotifyconfig  ${KDE4_KIO_LIBS} ${KDE4_PHONON_LIBS}  )
 
 set_target_properties(knotifyconfig PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION} )
-install(TARGETS knotifyconfig ${INSTALL_TARGETS_DEFAULT_ARGS})
+install(TARGETS knotifyconfig ${KDELIBS_EXPORT} ${INSTALL_TARGETS_DEFAULT_ARGS})
 
 ########### install files ###############
 install( FILES knotifyconfig_export.h knotifyconfigwidget.h  DESTINATION  ${INCLUDE_INSTALL_DIR}  COMPONENT Devel)
--- a/kparts/CMakeLists.txt
+++ b/kparts/CMakeLists.txt
@@ -27,7 +27,7 @@
 target_link_libraries(kparts  ${KDE4_KDECORE_LIBS} kdeui kio)
 
 set_target_properties(kparts PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION} )
-install(TARGETS kparts ${INSTALL_TARGETS_DEFAULT_ARGS})
+install(TARGETS kparts ${KDELIBS_EXPORT} ${INSTALL_TARGETS_DEFAULT_ARGS})
 
 ########### install files ###############
 
--- a/kpty/CMakeLists.txt
+++ b/kpty/CMakeLists.txt
@@ -14,7 +14,7 @@
 target_link_libraries(kpty ${KDE4_KDECORE_LIBS} ${UTIL_LIBRARY} ${UTEMPTER_LIBRARY})
 
 set_target_properties(kpty PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION} )
-install(TARGETS kpty ${INSTALL_TARGETS_DEFAULT_ARGS})
+install(TARGETS kpty ${KDELIBS_EXPORT} ${INSTALL_TARGETS_DEFAULT_ARGS})
 
 install( FILES
    kpty_export.h
--- a/kross/core/CMakeLists.txt
+++ b/kross/core/CMakeLists.txt
@@ -13,7 +13,7 @@
 kde4_add_library(krosscore SHARED ${krosscore_LIB_SRCS})
 target_link_libraries(krosscore ${KDE4_KDECORE_LIBS} ${KDE4_KDEUI_LIBS} ${QT_QTSCRIPT_LIBRARY})
 set_target_properties(krosscore PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION})
-install(TARGETS krosscore ${INSTALL_TARGETS_DEFAULT_ARGS})
+install(TARGETS krosscore ${KDELIBS_EXPORT} ${INSTALL_TARGETS_DEFAULT_ARGS})
 
 install(FILES
     kross_export.h
--- a/kross/ui/CMakeLists.txt
+++ b/kross/ui/CMakeLists.txt
@@ -16,7 +16,7 @@
 kde4_add_library(krossui SHARED ${krossui_LIB_SRCS})
 target_link_libraries(krossui krosscore ${KDE4_KDEUI_LIBS} ${KDE4_KPARTS_LIBS} ${KDE4_KIO_LIBS})
 set_target_properties(krossui PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION})
-install(TARGETS krossui ${INSTALL_TARGETS_DEFAULT_ARGS})
+install(TARGETS krossui ${KDELIBS_EXPORT} ${INSTALL_TARGETS_DEFAULT_ARGS})
 
 ########### install files ###############
 
--- a/kutils/CMakeLists.txt
+++ b/kutils/CMakeLists.txt
@@ -33,7 +33,7 @@
 target_link_libraries(kutils  ${KDE4_KDEUI_LIBS} ${KDE4_KPARTS_LIBS} )
 
 set_target_properties(kutils PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION} )
-install(TARGETS kutils ${INSTALL_TARGETS_DEFAULT_ARGS})
+install(TARGETS kutils ${KDELIBS_EXPORT} ${INSTALL_TARGETS_DEFAULT_ARGS})
 
 ########### install files ###############
 
--- a/phonon/CMakeLists.txt
+++ b/phonon/CMakeLists.txt
@@ -65,7 +65,7 @@
 target_link_libraries(phonon ${QT_QTDBUS_LIBRARY} ${QT_QTCORE_LIBRARY} ${QT_QTGUI_LIBRARY})
 #do not use GENERIC versioning in phonon
 set_target_properties(phonon PROPERTIES VERSION 4.2.0 SOVERSION 4)
-install(TARGETS phonon ${INSTALL_TARGETS_DEFAULT_ARGS})
+install(TARGETS phonon ${KDELIBS_EXPORT} ${INSTALL_TARGETS_DEFAULT_ARGS})
 
 ########### install files ###############
 
--- a/phonon/libkaudiodevicelist/CMakeLists.txt
+++ b/phonon/libkaudiodevicelist/CMakeLists.txt
@@ -32,7 +32,7 @@
 
 set_target_properties(kaudiodevicelist PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION})
 
-install(TARGETS kaudiodevicelist ${INSTALL_TARGETS_DEFAULT_ARGS})
+install(TARGETS kaudiodevicelist ${KDELIBS_EXPORT} ${INSTALL_TARGETS_DEFAULT_ARGS})
 install(FILES
         kaudiodevicelist_export.h
         audiodevice.h
--- a/solid/solid/CMakeLists.txt
+++ b/solid/solid/CMakeLists.txt
@@ -183,7 +183,7 @@
 target_link_libraries(solid ${QT_QTCORE_LIBRARY} ${QT_QTDBUS_LIBRARY} ${QT_QTXML_LIBRARY} ${QT_QTGUI_LIBRARY} ${solid_OPTIONAL_LIBS})
 
 set_target_properties(solid PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION} )
-install(TARGETS solid ${INSTALL_TARGETS_DEFAULT_ARGS})
+install(TARGETS solid ${KDELIBS_EXPORT} ${INSTALL_TARGETS_DEFAULT_ARGS})
 
 install(FILES org.kde.Solid.Networking.Client.xml DESTINATION ${DBUS_INTERFACES_INSTALL_DIR})
 
--- a/threadweaver/Weaver/CMakeLists.txt
+++ b/threadweaver/Weaver/CMakeLists.txt
@@ -33,7 +33,7 @@
 kde4_add_library(threadweaver SHARED ${ThreadWeaver_LIB_SRCS})
 target_link_libraries(threadweaver ${QT_QTCORE_LIBRARY})
 set_target_properties(threadweaver PROPERTIES VERSION ${GENERIC_LIB_VERSION} SOVERSION ${GENERIC_LIB_SOVERSION})
-install(TARGETS threadweaver ${INSTALL_TARGETS_DEFAULT_ARGS})
+install(TARGETS threadweaver ${KDELIBS_EXPORT} ${INSTALL_TARGETS_DEFAULT_ARGS})
 
 install(FILES
     WeaverInterface.h
